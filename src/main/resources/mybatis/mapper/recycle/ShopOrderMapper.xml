<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mbyte.easy.recycle.mapper.ShopOrderMapper">
  <resultMap id="BaseResultMap" type="com.mbyte.easy.recycle.entity.ShopOrder">
      <id column="id" jdbcType="BIGINT" property="id" />
      <id column="status" jdbcType="SMALLINT" property="status" />
      <id column="order_no" jdbcType="VARCHAR" property="orderNo" />
      <id column="user_id" jdbcType="BIGINT" property="userId" />
      <id column="createtime" jdbcType="TIMESTAMP" property="createtime" />
      <id column="price" jdbcType="DECIMAL" property="price" />
      <id column="address_id" jdbcType="BIGINT" property="addressId" />
      <id column="phone" jdbcType="VARCHAR" property="phone" />
      <id column="express" jdbcType="VARCHAR" property="express" />
      <id column="is_show" jdbcType="SMALLINT" property="isShow" />
      <id column="updatetime" jdbcType="TIMESTAMP" property="updatetime" />
      <id column="is_del" jdbcType="SMALLINT" property="isDel" />


  </resultMap>
  <sql id="Base_Column_List">
              id,

      status, order_no, user_id, createtime, price, address_id, phone, express, is_show, updatetime, is_del
  </sql>
    <select id="selectAllShopOrder" resultType="com.mbyte.easy.recycle.entity.ShopOrder">
        select shop_order.*, user_prop.address,shop_order.phone  from shop_order left JOIN user_prop on user_prop.id = shop_order.address_id where shop_order.is_del = 2


        <if test="shopOrders.status != null">
            and shop_order.status = #{shopOrders.status}
        </if>
        <if test="shopOrders.orderNo != null">
            and order_no = #{shopOrders.orderNo}
        </if>
        <if test="shopOrders.price != null">
            and shop_order.price = #{shopOrders.price}
        </if>
        <if test="shopOrders.address != null">

            and address = #{shopOrders.address}
        </if>
        <if test="shopOrders.express != null">
            and express = #{shopOrders.express}
        </if>
        <if test="shopOrders.phone != null ">
            and shop_order.phone = #{shopOrders.phone}
        </if>
        <if test="beginTime != null">
            and createtime between #{beginTime} and #{endTime}
        </if>
    </select>




</mapper>